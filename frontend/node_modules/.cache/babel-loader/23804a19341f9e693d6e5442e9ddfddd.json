{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\PycharmProjects\\\\dz_trvp\\\\trvp_dz\\\\frontend\\\\src\\\\components\\\\Dish\\\\index.jsx\",\n    _s = $RefreshSig$();\n\n// Dish.jsx\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { ListItem, ListItemAvatar, Avatar, ListItemText, Typography, Divider } from '@mui/material';\nimport IconButton from \"@mui/material/IconButton\";\nimport EditIcon from \"@mui/icons-material/Edit\";\nimport DeleteIcon from \"@mui/icons-material/Clear\";\nimport { fetchRemoveDish } from \"../../redux/slices/dishes\";\nimport { fetchUpdateMenu } from \"../../redux/slices/menus\";\nimport clsx from \"clsx\";\nimport styles from \"../Menu/Menu.module.scss\";\nimport { useDispatch } from \"react-redux\";\nimport { MenuSkeleton } from \"../Menu/Skeleton\";\nimport { UserInfo } from \"../UserInfo\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Dish = _ref => {\n  _s();\n\n  let {\n    id,\n    name,\n    type,\n    menuId,\n    user,\n    createdAt,\n    avatarUrl,\n    isLoading,\n    isEditable,\n    flag\n  } = _ref;\n  const dispatch = useDispatch();\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(MenuSkeleton, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 16\n    }, this);\n  }\n\n  const onClickRemove = () => {\n    if (window.confirm('Вы действительно хотите удалить блюдо?')) {\n      if (!flag) {\n        dispatch(fetchRemoveDish(id));\n      } else {\n        dispatch(fetchUpdateMenu({\n          menuId: menuId,\n          id: id,\n          flag: flag\n        }));\n      } // Вместо fetchRemoveMenu используем fetchRemoveDish\n      // Обратите внимание, что передаем id блюда, а не меню\n\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: clsx(styles.root),\n    children: isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading dish...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [isEditable && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.editButtons,\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: `/dish/${id}/edit`,\n          children: /*#__PURE__*/_jsxDEV(IconButton, {\n            color: \"primary\",\n            children: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: onClickRemove,\n          color: \"secondary\",\n          children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.wrapper,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.indention,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: clsx(styles.day),\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: `/dish/${id}`,\n              children: type\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(React.Fragment, {\n            children: /*#__PURE__*/_jsxDEV(ListItem, {\n              alignItems: \"flex-start\",\n              children: [/*#__PURE__*/_jsxDEV(ListItemAvatar, {\n                children: /*#__PURE__*/_jsxDEV(Avatar, {\n                  alt: type,\n                  src: `http://localhost:4444${avatarUrl}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                primary: `${name}` //name\n                ,\n                secondary: /*#__PURE__*/_jsxDEV(React.Fragment, {\n                  children: /*#__PURE__*/_jsxDEV(Typography, {\n                    sx: {\n                      display: 'inline'\n                    },\n                    component: \"span\",\n                    variant: \"body2\",\n                    color: \"text.primary\",\n                    children: type\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 82,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 33\n            }, this)\n          }, id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Dish, \"rgTLoBID190wEKCp9+G8W6F7A5M=\", false, function () {\n  return [useDispatch];\n});\n\n_c = Dish;\n\nvar _c;\n\n$RefreshReg$(_c, \"Dish\");","map":{"version":3,"names":["React","Link","ListItem","ListItemAvatar","Avatar","ListItemText","Typography","Divider","IconButton","EditIcon","DeleteIcon","fetchRemoveDish","fetchUpdateMenu","clsx","styles","useDispatch","MenuSkeleton","UserInfo","Dish","id","name","type","menuId","user","createdAt","avatarUrl","isLoading","isEditable","flag","dispatch","onClickRemove","window","confirm","root","editButtons","wrapper","indention","day","display"],"sources":["C:/Users/admin/PycharmProjects/dz_trvp/trvp_dz/frontend/src/components/Dish/index.jsx"],"sourcesContent":["// Dish.jsx\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { ListItem, ListItemAvatar, Avatar, ListItemText, Typography, Divider } from '@mui/material';\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport EditIcon from \"@mui/icons-material/Edit\";\r\nimport DeleteIcon from \"@mui/icons-material/Clear\";\r\nimport { fetchRemoveDish } from \"../../redux/slices/dishes\";\r\nimport {fetchUpdateMenu} from \"../../redux/slices/menus\"\r\nimport clsx from \"clsx\";\r\nimport styles from \"../Menu/Menu.module.scss\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {MenuSkeleton} from \"../Menu/Skeleton\";\r\nimport {UserInfo} from \"../UserInfo\";\r\n\r\nexport const Dish = (\r\n    {\r\n        id,\r\n        name,\r\n        type,\r\n        menuId,\r\n        user,\r\n        createdAt,\r\n        avatarUrl,\r\n        isLoading,\r\n        isEditable,\r\n        flag\r\n    }) => {\r\n    const dispatch = useDispatch();\r\n    if (isLoading) {\r\n        return <MenuSkeleton/>;\r\n    }\r\n    const onClickRemove = () => {\r\n        if (window.confirm('Вы действительно хотите удалить блюдо?')) {\r\n            if(!flag) {\r\n                dispatch(fetchRemoveDish(id));\r\n            } else {\r\n                dispatch(fetchUpdateMenu({ menuId: menuId, id: id, flag: flag }));\r\n            }\r\n            // Вместо fetchRemoveMenu используем fetchRemoveDish\r\n            // Обратите внимание, что передаем id блюда, а не меню\r\n\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={clsx(styles.root)}>\r\n            {isLoading ? (\r\n                <div>Loading dish...</div>\r\n            ) : (\r\n                <>\r\n                    {isEditable && (\r\n                        <div className={styles.editButtons}>\r\n                            <Link to={`/dish/${id}/edit`}>\r\n                                <IconButton color=\"primary\">\r\n                                    <EditIcon/>\r\n                                </IconButton>\r\n                            </Link>\r\n                            <IconButton onClick={onClickRemove} color=\"secondary\">\r\n                                <DeleteIcon/>\r\n                            </IconButton>\r\n                        </div>\r\n                    )}\r\n                    <div className={styles.wrapper}>\r\n                        {/*<UserInfo {...user} additionalText={createdAt}/>*/}\r\n                        <div className={styles.indention}>\r\n                            <h2 className={clsx(styles.day)}>\r\n                                <Link to={`/dish/${id}`}>\r\n                                    {type}\r\n                                </Link>\r\n                            </h2>\r\n\r\n                            <React.Fragment key={id}>\r\n                                <ListItem alignItems=\"flex-start\">\r\n                                    <ListItemAvatar>\r\n                                        <Avatar alt={type} src={`http://localhost:4444${avatarUrl}`}/>\r\n                                    </ListItemAvatar>\r\n                                    <ListItemText\r\n                                        primary={`${name}`} //name\r\n                                        secondary={\r\n                                            <React.Fragment>\r\n                                                <Typography\r\n                                                    sx={{display: 'inline'}}\r\n                                                    component=\"span\"\r\n                                                    variant=\"body2\"\r\n                                                    color=\"text.primary\"\r\n                                                >\r\n                                                    {type}\r\n                                                </Typography>\r\n                                            </React.Fragment>\r\n                                        }\r\n                                    />\r\n                                </ListItem>\r\n                                {/*<Divider variant=\"inset\" component=\"li\"/>*/}\r\n                            </React.Fragment>\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}