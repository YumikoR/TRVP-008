{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\PycharmProjects\\\\dz_trvp\\\\trvp_dz\\\\frontend\\\\src\\\\components\\\\Menu\\\\index.jsx\",\n    _s = $RefreshSig$();\n\n// Menu.jsx\nimport React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport clsx from 'clsx';\nimport IconButton from '@mui/material/IconButton';\nimport DeleteIcon from '@mui/icons-material/Clear';\nimport EditIcon from '@mui/icons-material/Edit';\nimport { List, ListItem, ListItemText, ListItemAvatar, Avatar, Typography } from '@mui/material';\nimport styles from './Menu.module.scss';\nimport { UserInfo } from '../UserInfo';\nimport { MenuSkeleton } from './Skeleton';\nimport { useDispatch } from \"react-redux\";\nimport { fetchRemoveMenu } from \"../../redux/slices/menus\";\nimport { Dish } from \"../Dish\";\nimport axios from \"../../axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const Menu = _ref => {\n  _s();\n\n  let {\n    id,\n    day,\n    option,\n    createdAt,\n    user,\n    dishes,\n    isFullMenu,\n    isLoading,\n    isEditable,\n    userData\n  } = _ref;\n  const dispatch = useDispatch();\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(MenuSkeleton, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 16\n    }, this);\n  }\n\n  const onClickRemove = () => {\n    if (window.confirm('Вы действительно хотите удалить меню?')) {\n      dispatch(fetchRemoveMenu(id));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: clsx(styles.root, {\n      [styles.rootFull]: isFullMenu\n    }),\n    children: [isEditable && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.editButtons,\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: `/menu/${id}/edit`,\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          color: \"primary\",\n          children: /*#__PURE__*/_jsxDEV(EditIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        onClick: onClickRemove,\n        color: \"secondary\",\n        children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.wrapper,\n      children: [/*#__PURE__*/_jsxDEV(UserInfo, { ...user,\n        additionalText: createdAt\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.indention,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: clsx(styles.day, {\n            [styles.dayFull]: isFullMenu\n          }),\n          children: isFullMenu ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [day, \" - \", option]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(Link, {\n            to: `/menu/${id}`,\n            children: [day, \" - \\u2116\", option]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this), dishes && /*#__PURE__*/_jsxDEV(List, {\n          sx: {\n            width: '100%',\n            maxWidth: 360,\n            bgcolor: 'background.paper'\n          },\n          children: dishes.map((dish, index) =>\n          /*#__PURE__*/\n          // console.log(JSON.stringify({\n          //     day,\n          //     dishes: dishes.filter((d, i) => i !== index).map((d) => d._id),\n          //     option,\n          // }))\n          // console.log({\n          //     day,\n          //     dishes: dishes.filter((d, i) => i !== index).map((d) => d._id),\n          //     option,\n          // })\n          _jsxDEV(Dish, {\n            id: dish._id,\n            name: dish.name,\n            user: dish.user,\n            menuId: id,\n            type: dish.typeId.name,\n            avatarUrl: dish.avatarUrl,\n            isLoading: false,\n            isEditable: (userData === null || userData === void 0 ? void 0 : userData._id) === (user === null || user === void 0 ? void 0 : user._id) // flag={JSON.stringify({\n            //     day,\n            //     dishes: dishes.filter((d, i) => i !== index).map((d) => d._id),\n            //     option,\n            // })}\n            ,\n            flag: {\n              day,\n              dishes: dishes.filter((d, i) => i !== index).map(d => d._id),\n              option\n            } // flag={JSON.stringify(dishes.filter((d, i) => i !== index))}\n\n          }, dish._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Menu, \"rgTLoBID190wEKCp9+G8W6F7A5M=\", false, function () {\n  return [useDispatch];\n});\n\n_c = Menu;\n\nvar _c;\n\n$RefreshReg$(_c, \"Menu\");","map":{"version":3,"names":["React","useEffect","Link","clsx","IconButton","DeleteIcon","EditIcon","List","ListItem","ListItemText","ListItemAvatar","Avatar","Typography","styles","UserInfo","MenuSkeleton","useDispatch","fetchRemoveMenu","Dish","axios","Menu","id","day","option","createdAt","user","dishes","isFullMenu","isLoading","isEditable","userData","dispatch","onClickRemove","window","confirm","root","rootFull","editButtons","wrapper","indention","dayFull","width","maxWidth","bgcolor","map","dish","index","_id","name","typeId","avatarUrl","filter","d","i"],"sources":["C:/Users/admin/PycharmProjects/dz_trvp/trvp_dz/frontend/src/components/Menu/index.jsx"],"sourcesContent":["// Menu.jsx\r\nimport React, {useEffect} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport clsx from 'clsx';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport DeleteIcon from '@mui/icons-material/Clear';\r\nimport EditIcon from '@mui/icons-material/Edit';\r\nimport { List, ListItem, ListItemText, ListItemAvatar, Avatar, Typography } from '@mui/material';\r\n\r\nimport styles from './Menu.module.scss';\r\nimport { UserInfo } from '../UserInfo';\r\nimport { MenuSkeleton } from './Skeleton';\r\nimport { useDispatch } from \"react-redux\";\r\nimport { fetchRemoveMenu } from \"../../redux/slices/menus\";\r\nimport { Dish } from \"../Dish\";\r\nimport axios from \"../../axios\";\r\n\r\nexport const Menu = ({\r\n                         id,\r\n                         day,\r\n                         option,\r\n                         createdAt,\r\n                         user,\r\n                         dishes,\r\n                         isFullMenu,\r\n                         isLoading,\r\n                         isEditable,\r\n                         userData,\r\n                     }) => {\r\n    const dispatch = useDispatch();\r\n    if (isLoading) {\r\n        return <MenuSkeleton/>;\r\n    }\r\n\r\n    const onClickRemove = () => {\r\n        if (window.confirm('Вы действительно хотите удалить меню?')) {\r\n            dispatch(fetchRemoveMenu(id));\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={clsx(styles.root, { [styles.rootFull]: isFullMenu })}>\r\n\r\n            {isEditable && (\r\n                <div className={styles.editButtons}>\r\n                    <Link to={`/menu/${id}/edit`}>\r\n                        <IconButton color=\"primary\">\r\n                            <EditIcon />\r\n                        </IconButton>\r\n                    </Link>\r\n                    <IconButton onClick={onClickRemove} color=\"secondary\">\r\n                        <DeleteIcon />\r\n                    </IconButton>\r\n                </div>\r\n            )}\r\n            <div className={styles.wrapper}>\r\n                <UserInfo {...user} additionalText={createdAt} />\r\n                <div className={styles.indention}>\r\n                    <h2 className={clsx(styles.day, { [styles.dayFull]: isFullMenu })}>\r\n                        {isFullMenu ? (\r\n                            <>{day} - {option}</>\r\n                        ) : (\r\n                            <Link to={`/menu/${id}`}>\r\n                                {day} - №{option}\r\n                            </Link>\r\n                        )}\r\n                    </h2>\r\n                    {dishes && (\r\n                        <List sx={{ width: '100%', maxWidth: 360, bgcolor: 'background.paper' }}>\r\n                            {dishes.map((dish, index) => (\r\n                                // console.log(JSON.stringify({\r\n                                //     day,\r\n                                //     dishes: dishes.filter((d, i) => i !== index).map((d) => d._id),\r\n                                //     option,\r\n                                // }))\r\n                                // console.log({\r\n                                //     day,\r\n                                //     dishes: dishes.filter((d, i) => i !== index).map((d) => d._id),\r\n                                //     option,\r\n                                // })\r\n                                <Dish\r\n                                    key={dish._id}\r\n                                    id={dish._id}\r\n                                    name={dish.name}\r\n                                    user={dish.user}\r\n                                    menuId={id}\r\n                                    type={dish.typeId.name}\r\n                                    avatarUrl={dish.avatarUrl}\r\n                                    isLoading={false}\r\n                                    isEditable={userData?._id === user?._id}\r\n                                    // flag={JSON.stringify({\r\n                                    //     day,\r\n                                    //     dishes: dishes.filter((d, i) => i !== index).map((d) => d._id),\r\n                                    //     option,\r\n                                    // })}\r\n                                    flag={{\r\n                                        day,\r\n                                        dishes: dishes.filter((d, i) => i !== index).map((d) => d._id),\r\n                                        option,\r\n                                    }}\r\n                                    // flag={JSON.stringify(dishes.filter((d, i) => i !== index))}\r\n                                />\r\n                            ))}\r\n                        </List>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}