{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\PycharmProjects\\\\dz_trvp\\\\trvp_dz\\\\frontend\\\\src\\\\pages\\\\FullDish.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from '../axios';\nimport { Dish } from '../components/Dish';\nimport { Index } from '../components/AddComment';\nimport { CommentsBlock } from '../components/CommentsBlock';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const FullDish = () => {\n  _s();\n\n  const [data, setData] = React.useState();\n  const [isLoading, setLoading] = React.useState(true);\n  const {\n    id\n  } = useParams();\n  React.useEffect(() => {\n    axios.get(`/dishes/${id}`).then(res => {\n      setData(res.data);\n      setLoading(false);\n      console.log('DISH DATA!!!!!!!!', res.data);\n    }).catch(err => {\n      console.warn(err);\n      alert('Ошибка при получении блюда');\n    });\n  }, [id]);\n\n  if (isLoading || !data) {\n    return /*#__PURE__*/_jsxDEV(Dish, {\n      isLoading: isLoading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Dish, {\n      id: data._id,\n      name: data.name,\n      type: data.typeId.name,\n      user: data.user,\n      createdAt: new Date(data.createdAt).toLocaleDateString('ru-RU'),\n      avatarUrl: data.avatarUrl,\n      isLoading: isLoading,\n      isEditable: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CommentsBlock, {\n      children: /*#__PURE__*/_jsxDEV(Index, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(FullDish, \"ZaR8ChrYuSg3WLi0hTGl21f9fEE=\", false, function () {\n  return [useParams];\n});\n\n_c = FullDish;\n\nvar _c;\n\n$RefreshReg$(_c, \"FullDish\");","map":{"version":3,"names":["React","useParams","axios","Dish","Index","CommentsBlock","FullDish","data","setData","useState","isLoading","setLoading","id","useEffect","get","then","res","console","log","catch","err","warn","alert","_id","name","typeId","user","Date","createdAt","toLocaleDateString","avatarUrl"],"sources":["C:/Users/admin/PycharmProjects/dz_trvp/trvp_dz/frontend/src/pages/FullDish.jsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from '../axios';\r\n\r\nimport { Dish } from '../components/Dish';\r\nimport { Index } from '../components/AddComment';\r\nimport { CommentsBlock } from '../components/CommentsBlock';\r\n\r\nexport const FullDish = () => {\r\n    const [data, setData] = React.useState();\r\n    const [isLoading, setLoading] = React.useState(true);\r\n\r\n    const { id } = useParams();\r\n\r\n    React.useEffect(() => {\r\n        axios\r\n            .get(`/dishes/${id}`)\r\n            .then((res) => {\r\n                setData(res.data);\r\n                setLoading(false);\r\n                console.log('DISH DATA!!!!!!!!', res.data);\r\n            })\r\n            .catch((err) => {\r\n                console.warn(err);\r\n                alert('Ошибка при получении блюда');\r\n            });\r\n    }, [id]);\r\n\r\n    if (isLoading || !data) {\r\n        return <Dish isLoading={isLoading} />;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Dish\r\n                id={data._id}\r\n                name={data.name}\r\n                type={data.typeId.name}\r\n                user={data.user}\r\n                createdAt={new Date(data.createdAt).toLocaleDateString('ru-RU')}\r\n                avatarUrl={data.avatarUrl}\r\n                isLoading={isLoading}\r\n                isEditable\r\n            />\r\n            <CommentsBlock\r\n\r\n            >\r\n                <Index />\r\n            </CommentsBlock>\r\n        </>\r\n    );\r\n};\r\n"],"mappings":";;;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,kBAA1B;AACA,OAAOC,KAAP,MAAkB,UAAlB;AAEA,SAASC,IAAT,QAAqB,oBAArB;AACA,SAASC,KAAT,QAAsB,0BAAtB;AACA,SAASC,aAAT,QAA8B,6BAA9B;;;AAEA,OAAO,MAAMC,QAAQ,GAAG,MAAM;EAAA;;EAC1B,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBR,KAAK,CAACS,QAAN,EAAxB;EACA,MAAM,CAACC,SAAD,EAAYC,UAAZ,IAA0BX,KAAK,CAACS,QAAN,CAAe,IAAf,CAAhC;EAEA,MAAM;IAAEG;EAAF,IAASX,SAAS,EAAxB;EAEAD,KAAK,CAACa,SAAN,CAAgB,MAAM;IAClBX,KAAK,CACAY,GADL,CACU,WAAUF,EAAG,EADvB,EAEKG,IAFL,CAEWC,GAAD,IAAS;MACXR,OAAO,CAACQ,GAAG,CAACT,IAAL,CAAP;MACAI,UAAU,CAAC,KAAD,CAAV;MACAM,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCF,GAAG,CAACT,IAArC;IACH,CANL,EAOKY,KAPL,CAOYC,GAAD,IAAS;MACZH,OAAO,CAACI,IAAR,CAAaD,GAAb;MACAE,KAAK,CAAC,4BAAD,CAAL;IACH,CAVL;EAWH,CAZD,EAYG,CAACV,EAAD,CAZH;;EAcA,IAAIF,SAAS,IAAI,CAACH,IAAlB,EAAwB;IACpB,oBAAO,QAAC,IAAD;MAAM,SAAS,EAAEG;IAAjB;MAAA;MAAA;MAAA;IAAA,QAAP;EACH;;EAED,oBACI;IAAA,wBACI,QAAC,IAAD;MACI,EAAE,EAAEH,IAAI,CAACgB,GADb;MAEI,IAAI,EAAEhB,IAAI,CAACiB,IAFf;MAGI,IAAI,EAAEjB,IAAI,CAACkB,MAAL,CAAYD,IAHtB;MAII,IAAI,EAAEjB,IAAI,CAACmB,IAJf;MAKI,SAAS,EAAE,IAAIC,IAAJ,CAASpB,IAAI,CAACqB,SAAd,EAAyBC,kBAAzB,CAA4C,OAA5C,CALf;MAMI,SAAS,EAAEtB,IAAI,CAACuB,SANpB;MAOI,SAAS,EAAEpB,SAPf;MAQI,UAAU;IARd;MAAA;MAAA;MAAA;IAAA,QADJ,eAWI,QAAC,aAAD;MAAA,uBAGI,QAAC,KAAD;QAAA;QAAA;QAAA;MAAA;IAHJ;MAAA;MAAA;MAAA;IAAA,QAXJ;EAAA,gBADJ;AAmBH,CA3CM;;GAAMJ,Q;UAIML,S;;;KAJNK,Q"},"metadata":{},"sourceType":"module"}