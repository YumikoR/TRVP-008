{"ast":null,"code":"import _defineProperty from\"C:/Users/admin/PycharmProjects/dz_trvp/trvp_dz/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _regeneratorRuntime from\"C:/Users/admin/PycharmProjects/dz_trvp/trvp_dz/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/admin/PycharmProjects/dz_trvp/trvp_dz/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";var _extraReducers;import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import axios from'../../axios';export var fetchAuth=createAsyncThunk('auth/fetchUserData',/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(params){var _yield$axios$post,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post('/auth/login',params);case 2:_yield$axios$post=_context.sent;data=_yield$axios$post.data;return _context.abrupt(\"return\",data);case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());export var fetchRegister=createAsyncThunk('auth/fetchRegister',/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(params){var _yield$axios$post2,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post('/auth/register',params);case 2:_yield$axios$post2=_context2.sent;data=_yield$axios$post2.data;return _context2.abrupt(\"return\",data);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}());export var fetchAuthMe=createAsyncThunk('auth/fetchAuthMe',/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(params){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.get('/auth/me');case 2:_yield$axios$get=_context3.sent;data=_yield$axios$get.data;return _context3.abrupt(\"return\",data);case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}());var initialState={data:null,status:'loading'};var authSlice=createSlice({name:'auth',initialState:initialState,reducers:{logout:function logout(state){state.data=null;}},extraReducers:(_extraReducers={},_defineProperty(_extraReducers,fetchAuth.pending,function(state){state.status='loading';state.data=null;}),_defineProperty(_extraReducers,fetchAuth.fulfilled,function(state,action){state.status='loaded';state.data=action.payload;}),_defineProperty(_extraReducers,fetchAuth.rejected,function(state){state.status='error';state.data=null;}),_defineProperty(_extraReducers,fetchAuthMe.pending,function(state){state.status='loading';state.data=null;}),_defineProperty(_extraReducers,fetchAuthMe.fulfilled,function(state,action){state.status='loaded';state.data=action.payload;}),_defineProperty(_extraReducers,fetchAuthMe.rejected,function(state){state.status='error';state.data=null;}),_defineProperty(_extraReducers,fetchRegister.pending,function(state){state.status='loading';state.data=null;}),_defineProperty(_extraReducers,fetchRegister.fulfilled,function(state,action){state.status='loaded';state.data=action.payload;}),_defineProperty(_extraReducers,fetchRegister.rejected,function(state){state.status='error';state.data=null;}),_extraReducers)});export var selectIsAuth=function selectIsAuth(state){return Boolean(state.auth.data);};export var authReducer=authSlice.reducer;var logout=authSlice.actions.logout;export{logout};","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","fetchAuth","params","post","data","fetchRegister","fetchAuthMe","get","initialState","status","authSlice","name","reducers","logout","state","extraReducers","pending","fulfilled","action","payload","rejected","selectIsAuth","Boolean","auth","authReducer","reducer","actions"],"sources":["C:/Users/admin/PycharmProjects/dz_trvp/trvp_dz/frontend/src/redux/slices/auth.js"],"sourcesContent":["import {createSlice, createAsyncThunk} from \"@reduxjs/toolkit\";\r\nimport axios from '../../axios'\r\n\r\nexport const fetchAuth = createAsyncThunk('auth/fetchUserData', async (params) => {\r\n    const {data} = await axios.post('/auth/login', params);\r\n    return data;\r\n});\r\n\r\nexport const fetchRegister = createAsyncThunk('auth/fetchRegister', async (params) => {\r\n    const {data} = await axios.post('/auth/register', params);\r\n    return data;\r\n})\r\n\r\n\r\nexport const fetchAuthMe = createAsyncThunk('auth/fetchAuthMe', async (params) => {\r\n    const {data} = await axios.get('/auth/me');\r\n    return data;\r\n})\r\n\r\n\r\nconst initialState = {\r\n    data: null,\r\n    status: 'loading',\r\n};\r\n\r\nconst authSlice = createSlice({\r\n    name: 'auth',\r\n    initialState,\r\n    reducers: {\r\n        logout: (state) => {\r\n            state.data = null;\r\n        }\r\n    },\r\n    extraReducers: {\r\n        [fetchAuth.pending]: (state) => {\r\n            state.status = 'loading';\r\n            state.data = null;\r\n        },\r\n        [fetchAuth.fulfilled]: (state, action) => {\r\n            state.status = 'loaded';\r\n            state.data = action.payload;\r\n        },\r\n        [fetchAuth.rejected]: (state) => {\r\n            state.status = 'error';\r\n            state.data = null;\r\n        },\r\n        [fetchAuthMe.pending]: (state) => {\r\n            state.status = 'loading';\r\n            state.data = null;\r\n        },\r\n        [fetchAuthMe.fulfilled]: (state, action) => {\r\n            state.status = 'loaded';\r\n            state.data = action.payload;\r\n        },\r\n        [fetchAuthMe.rejected]: (state) => {\r\n            state.status = 'error';\r\n            state.data = null;\r\n        },\r\n        [fetchRegister.pending]: (state) => {\r\n            state.status = 'loading';\r\n            state.data = null;\r\n        },\r\n        [fetchRegister.fulfilled]: (state, action) => {\r\n            state.status = 'loaded';\r\n            state.data = action.payload;\r\n        },\r\n        [fetchRegister.rejected]: (state) => {\r\n            state.status = 'error';\r\n            state.data = null;\r\n        },\r\n    }\r\n});\r\n\r\nexport const selectIsAuth = (state) => Boolean(state.auth.data);\r\n\r\nexport const authReducer = authSlice.reducer;\r\n\r\nexport const {logout} = authSlice.actions;"],"mappings":"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"},"metadata":{},"sourceType":"module"}