{"ast":null,"code":"import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios from \"../../axios\";\nexport const fetchDishes = createAsyncThunk('dishes/fetchDishes', async () => {\n  const {\n    data\n  } = await axios.get('/dishes');\n  return data;\n});\nexport const fetchRemoveDish = createAsyncThunk('dishes/fetchRemoveDish', async id => {\n  const response = await axios.delete(`/dishes/${id}`);\n  return {\n    id\n  };\n}); // export const fetchUpdateMenu = createAsyncThunk('dishes/fetchUpdateMenu', async ({ id, flag }) => {\n//     const response = await axios.patch(`/menu/${id}`, flag);\n//     return { id };\n// });\n\nconst initialState = {\n  dishes: {\n    items: [],\n    status: 'loading'\n  }\n};\nconst dishesSlice = createSlice({\n  name: 'dishes',\n  initialState,\n  reducer: {},\n  extraReducers: {\n    // Получение блюд\n    [fetchDishes.pending]: state => {\n      state.dishes.status = 'loading';\n    },\n    [fetchDishes.fulfilled]: (state, action) => {\n      state.dishes.items = action.payload;\n      state.dishes.status = 'loaded';\n    },\n    [fetchDishes.rejected]: state => {\n      state.dishes.items = [];\n      state.dishes.status = 'error';\n    },\n    // Удаление блюд\n    [fetchRemoveDish.pending]: (state, action) => {\n      state.dishes.items = state.dishes.items.filter(obj => obj._id !== action.meta.arg);\n    }\n  }\n});\nexport const dishesReducer = dishesSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","fetchDishes","data","get","fetchRemoveDish","id","response","delete","initialState","dishes","items","status","dishesSlice","name","reducer","extraReducers","pending","state","fulfilled","action","payload","rejected","filter","obj","_id","meta","arg","dishesReducer"],"sources":["C:/Users/admin/PycharmProjects/dz_trvp/trvp_dz/frontend/src/redux/slices/dishes.js"],"sourcesContent":["import {createSlice, createAsyncThunk} from \"@reduxjs/toolkit\";\r\nimport axios from \"../../axios\";\r\n\r\nexport const fetchDishes = createAsyncThunk('dishes/fetchDishes', async () => {\r\n    const {data} = await axios.get('/dishes');\r\n    return data;\r\n});\r\n\r\nexport const fetchRemoveDish = createAsyncThunk('dishes/fetchRemoveDish', async (id) => {\r\n    const response = await axios.delete(`/dishes/${id}`)\r\n    return {id};\r\n});\r\n\r\n// export const fetchUpdateMenu = createAsyncThunk('dishes/fetchUpdateMenu', async ({ id, flag }) => {\r\n//     const response = await axios.patch(`/menu/${id}`, flag);\r\n//     return { id };\r\n// });\r\n\r\nconst initialState = {\r\n    dishes: {\r\n        items: [],\r\n        status: 'loading'\r\n    },\r\n};\r\n\r\nconst dishesSlice = createSlice({\r\n    name: 'dishes',\r\n    initialState,\r\n    reducer: {},\r\n    extraReducers: {\r\n        // Получение блюд\r\n        [fetchDishes.pending]: (state) => {\r\n            state.dishes.status = 'loading';\r\n        },\r\n        [fetchDishes.fulfilled]: (state, action) => {\r\n            state.dishes.items = action.payload;\r\n            state.dishes.status = 'loaded';\r\n        },\r\n        [fetchDishes.rejected]: (state) => {\r\n            state.dishes.items = [];\r\n            state.dishes.status = 'error';\r\n        },\r\n\r\n        // Удаление блюд\r\n        [fetchRemoveDish.pending]: (state, action) => {\r\n            state.dishes.items = state.dishes.items.filter(obj => obj._id !== action.meta.arg);\r\n        },\r\n\r\n\r\n\r\n    },\r\n});\r\n\r\nexport const dishesReducer = dishesSlice.reducer;"],"mappings":"AAAA,SAAQA,WAAR,EAAqBC,gBAArB,QAA4C,kBAA5C;AACA,OAAOC,KAAP,MAAkB,aAAlB;AAEA,OAAO,MAAMC,WAAW,GAAGF,gBAAgB,CAAC,oBAAD,EAAuB,YAAY;EAC1E,MAAM;IAACG;EAAD,IAAS,MAAMF,KAAK,CAACG,GAAN,CAAU,SAAV,CAArB;EACA,OAAOD,IAAP;AACH,CAH0C,CAApC;AAKP,OAAO,MAAME,eAAe,GAAGL,gBAAgB,CAAC,wBAAD,EAA2B,MAAOM,EAAP,IAAc;EACpF,MAAMC,QAAQ,GAAG,MAAMN,KAAK,CAACO,MAAN,CAAc,WAAUF,EAAG,EAA3B,CAAvB;EACA,OAAO;IAACA;EAAD,CAAP;AACH,CAH8C,CAAxC,C,CAKP;AACA;AACA;AACA;;AAEA,MAAMG,YAAY,GAAG;EACjBC,MAAM,EAAE;IACJC,KAAK,EAAE,EADH;IAEJC,MAAM,EAAE;EAFJ;AADS,CAArB;AAOA,MAAMC,WAAW,GAAGd,WAAW,CAAC;EAC5Be,IAAI,EAAE,QADsB;EAE5BL,YAF4B;EAG5BM,OAAO,EAAE,EAHmB;EAI5BC,aAAa,EAAE;IACX;IACA,CAACd,WAAW,CAACe,OAAb,GAAwBC,KAAD,IAAW;MAC9BA,KAAK,CAACR,MAAN,CAAaE,MAAb,GAAsB,SAAtB;IACH,CAJU;IAKX,CAACV,WAAW,CAACiB,SAAb,GAAyB,CAACD,KAAD,EAAQE,MAAR,KAAmB;MACxCF,KAAK,CAACR,MAAN,CAAaC,KAAb,GAAqBS,MAAM,CAACC,OAA5B;MACAH,KAAK,CAACR,MAAN,CAAaE,MAAb,GAAsB,QAAtB;IACH,CARU;IASX,CAACV,WAAW,CAACoB,QAAb,GAAyBJ,KAAD,IAAW;MAC/BA,KAAK,CAACR,MAAN,CAAaC,KAAb,GAAqB,EAArB;MACAO,KAAK,CAACR,MAAN,CAAaE,MAAb,GAAsB,OAAtB;IACH,CAZU;IAcX;IACA,CAACP,eAAe,CAACY,OAAjB,GAA2B,CAACC,KAAD,EAAQE,MAAR,KAAmB;MAC1CF,KAAK,CAACR,MAAN,CAAaC,KAAb,GAAqBO,KAAK,CAACR,MAAN,CAAaC,KAAb,CAAmBY,MAAnB,CAA0BC,GAAG,IAAIA,GAAG,CAACC,GAAJ,KAAYL,MAAM,CAACM,IAAP,CAAYC,GAAzD,CAArB;IACH;EAjBU;AAJa,CAAD,CAA/B;AA4BA,OAAO,MAAMC,aAAa,GAAGf,WAAW,CAACE,OAAlC"},"metadata":{},"sourceType":"module"}