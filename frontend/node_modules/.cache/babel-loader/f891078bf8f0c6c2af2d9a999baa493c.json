{"ast":null,"code":"import _slicedToArray from\"C:/Users/admin/PycharmProjects/dz_trvp/trvp_dz/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useParams}from'react-router-dom';import axios from'../axios';import{Dish}from'../components/Dish';import{Index}from'../components/AddComment';import{CommentsBlock}from'../components/CommentsBlock';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var FullDish=function FullDish(){var _React$useState=React.useState(),_React$useState2=_slicedToArray(_React$useState,2),data=_React$useState2[0],setData=_React$useState2[1];var _React$useState3=React.useState(true),_React$useState4=_slicedToArray(_React$useState3,2),isLoading=_React$useState4[0],setLoading=_React$useState4[1];var _useParams=useParams(),id=_useParams.id;React.useEffect(function(){axios.get(\"/dishes/\".concat(id)).then(function(res){setData(res.data);setLoading(false);console.log('DISH DATA!!!!!!!!',res.data);}).catch(function(err){console.warn(err);alert('Ошибка при получении блюда');});},[id]);if(isLoading||!data){return/*#__PURE__*/_jsx(Dish,{isLoading:isLoading});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Dish,{id:data._id,name:data.name,type:data.typeId.name,user:data.user,createdAt:new Date(data.createdAt).toLocaleDateString('ru-RU'),avatarUrl:data.avatarUrl,isLoading:isLoading,isEditable:true}),/*#__PURE__*/_jsx(CommentsBlock,{children:/*#__PURE__*/_jsx(Index,{})})]});};","map":{"version":3,"names":["React","useParams","axios","Dish","Index","CommentsBlock","FullDish","useState","data","setData","isLoading","setLoading","id","useEffect","get","then","res","console","log","catch","err","warn","alert","_id","name","typeId","user","Date","createdAt","toLocaleDateString","avatarUrl"],"sources":["C:/Users/admin/PycharmProjects/dz_trvp/trvp_dz/frontend/src/pages/FullDish.jsx"],"sourcesContent":["\r\nimport React from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from '../axios';\r\n\r\nimport { Dish } from '../components/Dish';\r\nimport { Index } from '../components/AddComment';\r\nimport { CommentsBlock } from '../components/CommentsBlock';\r\n\r\nexport const FullDish = () => {\r\n    const [data, setData] = React.useState();\r\n    const [isLoading, setLoading] = React.useState(true);\r\n\r\n    const { id } = useParams();\r\n\r\n    React.useEffect(() => {\r\n        axios\r\n            .get(`/dishes/${id}`)\r\n            .then((res) => {\r\n                setData(res.data);\r\n                setLoading(false);\r\n                console.log('DISH DATA!!!!!!!!', res.data);\r\n            })\r\n            .catch((err) => {\r\n                console.warn(err);\r\n                alert('Ошибка при получении блюда');\r\n            });\r\n    }, [id]);\r\n\r\n    if (isLoading || !data) {\r\n        return <Dish isLoading={isLoading} />;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Dish\r\n                id={data._id}\r\n                name={data.name}\r\n                type={data.typeId.name}\r\n                user={data.user}\r\n                createdAt={new Date(data.createdAt).toLocaleDateString('ru-RU')}\r\n                avatarUrl={data.avatarUrl}\r\n                isLoading={isLoading}\r\n                isEditable\r\n            />\r\n            <CommentsBlock\r\n\r\n            >\r\n                <Index />\r\n            </CommentsBlock>\r\n        </>\r\n    );\r\n};\r\n"],"mappings":"6IACA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,MAAP,KAAkB,UAAlB,CAEA,OAASC,IAAT,KAAqB,oBAArB,CACA,OAASC,KAAT,KAAsB,0BAAtB,CACA,OAASC,aAAT,KAA8B,6BAA9B,C,6IAEA,MAAO,IAAMC,SAAQ,CAAG,QAAXA,SAAW,EAAM,CAC1B,oBAAwBN,KAAK,CAACO,QAAN,EAAxB,oDAAOC,IAAP,qBAAaC,OAAb,qBACA,qBAAgCT,KAAK,CAACO,QAAN,CAAe,IAAf,CAAhC,qDAAOG,SAAP,qBAAkBC,UAAlB,qBAEA,eAAeV,SAAS,EAAxB,CAAQW,EAAR,YAAQA,EAAR,CAEAZ,KAAK,CAACa,SAAN,CAAgB,UAAM,CAClBX,KAAK,CACAY,GADL,mBACoBF,EADpB,GAEKG,IAFL,CAEU,SAACC,GAAD,CAAS,CACXP,OAAO,CAACO,GAAG,CAACR,IAAL,CAAP,CACAG,UAAU,CAAC,KAAD,CAAV,CACAM,OAAO,CAACC,GAAR,CAAY,mBAAZ,CAAiCF,GAAG,CAACR,IAArC,EACH,CANL,EAOKW,KAPL,CAOW,SAACC,GAAD,CAAS,CACZH,OAAO,CAACI,IAAR,CAAaD,GAAb,EACAE,KAAK,CAAC,4BAAD,CAAL,CACH,CAVL,EAWH,CAZD,CAYG,CAACV,EAAD,CAZH,EAcA,GAAIF,SAAS,EAAI,CAACF,IAAlB,CAAwB,CACpB,mBAAO,KAAC,IAAD,EAAM,SAAS,CAAEE,SAAjB,EAAP,CACH,CAED,mBACI,wCACI,KAAC,IAAD,EACI,EAAE,CAAEF,IAAI,CAACe,GADb,CAEI,IAAI,CAAEf,IAAI,CAACgB,IAFf,CAGI,IAAI,CAAEhB,IAAI,CAACiB,MAAL,CAAYD,IAHtB,CAII,IAAI,CAAEhB,IAAI,CAACkB,IAJf,CAKI,SAAS,CAAE,GAAIC,KAAJ,CAASnB,IAAI,CAACoB,SAAd,EAAyBC,kBAAzB,CAA4C,OAA5C,CALf,CAMI,SAAS,CAAErB,IAAI,CAACsB,SANpB,CAOI,SAAS,CAAEpB,SAPf,CAQI,UAAU,KARd,EADJ,cAWI,KAAC,aAAD,wBAGI,KAAC,KAAD,IAHJ,EAXJ,GADJ,CAmBH,CA3CM"},"metadata":{},"sourceType":"module"}